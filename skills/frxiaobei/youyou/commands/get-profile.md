---
description: 查询并可视化展示用户基本信息
arguments: []
---

# 用户基本信息查询

以美观的可视化方式展示用户的基础医疗参数和计算指标。

## 执行步骤

1. **读取数据**
   - 读取 `data/profile.json`

2. **数据验证**
   - 检查数据是否存在
   - 如果数据未设置，提示用户先使用 `/profile set` 设置

3. **可视化展示**

使用以下格式展示信息：

```
╔══════════════════════════════════════════════════════════════╗
║                    👤 个人健康档案                            ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  📋 基本信息                                                 ║
║  ─────────────────────────────────────────────────────────  ║
║  身高：      ████ 175 cm                                     ║
║  体重：      ██████ 70 kg                                    ║
║  出生日期：  1990-01-01                                      ║
║  年龄：      35 岁                                           ║
║                                                              ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  📊 健康指标                                                 ║
║  ─────────────────────────────────────────────────────────  ║
║                                                              ║
║  BMI 指数：                                                  ║
║  ┌────────────────────────────────────────────────────┐     ║
║  │ 偏瘦   正常          超重         肥胖              │     ║
║  │ 18.5   18.5        24.0        28.0                │     ║
║  │       ▼ 22.9                                      │     ║
║  └────────────────────────────────────────────────────┘     ║
║  当前：22.9  【正常】                                         ║
║                                                              ║
║  体表面积 (BSA)：1.85 m²                                      ║
║  （用于辐射剂量计算的校正参数）                               ║
║                                                              ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  📈 记录信息                                                 ║
║  ─────────────────────────────────────────────────────────  ║
║  创建时间：   2025-12-31                                     ║
║  最后更新：  2025-12-31                                     ║
║  历史记录：  12 条                                            ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

## 简化版展示（数据未完整时）

如果部分数据缺失，使用简化版：

```
┌────────────────────────────────────────────┐
│         👤 个人健康档案                     │
├────────────────────────────────────────────┤
│                                            │
│  📋 基本信息                                │
│  ──────────────────────────────────────    │
│  身高：      --- cm                        │
│  体重：      70 kg                         │
│  出生日期：  1990-01-01                    │
│  年龄：      35 岁                         │
│                                            │
│  💡 提示：使用 /profile set 完善信息        │
│                                            │
└────────────────────────────────────────────┘
```

## 数据为空时

```
┌────────────────────────────────────────────┐
│         ⚠️  数据未设置                      │
├────────────────────────────────────────────┤
│                                            │
│  还未设置个人健康档案信息                   │
│                                            │
│  请使用以下命令设置：                       │
│  /profile set 175 70 1990-01-01            │
│                                            │
│  参数说明：                                 │
│  • 第1个参数：身高（厘米）                  │
│  • 第2个参数：体重（公斤）                  │
│  • 第3个参数：出生日期（YYYY-MM-DD）        │
│                                            │
└────────────────────────────────────────────┘
```

## BMI 状态配色

在展示时使用不同符号表示BMI状态：

| BMI 范围 | 状态 | 符号 |
|---------|------|------|
| < 18.5  | 偏瘦 | ⚠️   |
| 18.5-23.9 | 正常 | ✅   |
| 24-27.9 | 超重 | ⚠️   |
| ≥ 28    | 肥胖 | 🔴   |

## 体表面积说明

在输出底部添加说明：

```
💡 关于体表面积 (BSA)：
   • 用于医学影像检查的辐射剂量校正
   • 不同体型的人接受相同检查的实际辐射剂量不同
   • 系统会根据您的BSA自动计算累积辐射暴露
```

## 历史记录展示

如果 `history` 数组有数据，展示体重趋势：

```
┌────────────────────────────────────────────┐
│  📈 体重历史趋势（最近5条）                  │
├────────────────────────────────────────────┤
│  2025-12-31  →  70.0 kg  (BMI: 22.9)      │
│  2025-11-15  →  71.5 kg  (BMI: 23.4)      │
│  2025-10-01  →  72.0 kg  (BMI: 23.5)      │
│  2025-08-20  →  73.2 kg  (BMI: 23.9)      │
│  2025-07-05  →  74.0 kg  (BMI: 24.2)      │
│                                            │
│  📊 变化：-4.0 kg （-5.4%）                │
└────────────────────────────────────────────┘
```

## 快捷操作提示

在展示底部添加快捷操作提示：

```
─────────────────────────────────────────────────
🔧 快捷操作：
   /profile set [身高] [体重] [生日]  - 更新信息
   /profile view                     - 查看原始数据
   /vitals [血压] [血糖]              - 记录生命体征
   /query lab                        - 查询检验记录
─────────────────────────────────────────────────
```
